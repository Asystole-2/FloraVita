{% extends "layout.html" %}
{% block body %}
<div class="auth-bg min-h-screen flex items-center justify-center px-4">
    <div class="orb orb-1"></div>
    <div class="orb orb-2"></div>

    <div class="max-w-md w-full glass-card rounded-3xl p-8 z-10">
        <div class="text-center mb-6">
            <div class="inline-flex items-center justify-center w-14 h-14 bg-blue-500/10 rounded-2xl mb-4 border border-blue-500/20">
                <i class="fas fa-leaf text-blue-400 text-2xl"></i>
            </div>
            <h2 class="text-2xl font-bold tracking-tight text-white">FloraVita</h2>
            <p class="text-gray-400 text-xs uppercase tracking-widest mt-1">Intelligence in every leaf</p>
        </div>

        <form method="POST" action="{{ url_for('login') }}" class="space-y-4">
            <div>
                <label class="block text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 ml-1">Identity</label>
                <input type="text" name="identifier" required value="{{ identifier if identifier }}"
                       class="w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white text-sm focus:ring-2 focus:ring-blue-500/50 outline-none transition"
                       placeholder="Username or Email">
            </div>

            <div>
                <label class="block text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 ml-1">Password</label>
                <div class="relative group">
                    <input type="password" name="password" id="login-pw" required
                           class="w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white text-sm focus:ring-2 focus:ring-blue-500/50 outline-none transition"
                           placeholder="••••••••">
                    <button type="button" onclick="togglePassword('login-pw', this)"
                            class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-blue-400 transition-colors px-2">
                        <i class="fas fa-eye text-xs"></i>
                    </button>
                </div>
            </div>

            <button type="submit" class="w-full py-3 bg-blue-600 hover:bg-blue-500 text-white rounded-xl text-sm font-bold tracking-widest uppercase shadow-lg shadow-blue-600/20 transition-all active:scale-95">
                Log in
            </button>
        </form>
        <div class="relative flex py-6 items-center">
            <div class="flex-grow border-t border-white/5"></div>
            <span class="flex-shrink mx-4 text-[10px] text-gray-500 uppercase font-bold">Social Access</span>
            <div class="flex-grow border-t border-white/5"></div>
        </div>

        <a href="{{ url_for('google_login') }}"
           class="w-full flex justify-center items-center py-3 bg-white/5 border border-white/10 rounded-xl hover:bg-white/10 transition text-white text-xs font-bold uppercase tracking-widest">
            <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" class="w-4 h-4 mr-3">
            Log in with Google
        </a>

        <p class="mt-8 text-center text-xs text-gray-500">
            New explorer? <a href="{{ url_for('register') }}" class="text-blue-400 font-bold hover:text-blue-300">Join
            FloraVita</a>
        </p>
    </div>
</div>
<script>
    function togglePassword(inputId, btn) {
        const input = document.getElementById(inputId);
        const icon = btn.querySelector('i');
        if (input.type === 'password') {
            input.type = 'text';
            icon.classList.replace('fa-eye', 'fa-eye-slash');
        } else {
            input.type = 'password';
            icon.classList.replace('fa-eye-slash', 'fa-eye');
        }
    }
</script>
{% endblock %}